{"Shader":{"ver":"0.1","info":{"id":"XdGSRt","date":"1465876465","viewed":148,"name":"Video overlay test","username":"gunnarclovis","description":"A basic experiment with overlaying video feeds. Control speed by changing mouse y position.","likes":0,"published":3,"flags":2,"tags":["mouse","camera","live"],"hasliked":0},"renderpass":[{"inputs":[{"id":12,"src":"\/presets\/vid01.webm","ctype":"video","channel":2,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}},{"id":29,"src":"\/presets\/vid02.ogv","ctype":"video","channel":3,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}},{"id":31,"src":"\/presets\/webcam.png","ctype":"webcam","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}},{"id":36,"src":"\/presets\/vid03.webm","ctype":"video","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}}],"outputs":[{"id":37,"channel":0}],"code":"void mainImage(out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord.xy \/ iResolution.xy;\n\n    vec4 channel0 = texture2D(iChannel0, uv);\n    vec4 channel1 = texture2D(iChannel1, uv);\n    vec4 channel2 = texture2D(iChannel2, uv);\n    vec4 channel3 = texture2D(iChannel3, uv);\n    \n    vec4 outputPixel = channel0;\n    outputPixel.rgb *= channel3.rgb;\n    outputPixel.rgb += channel1.rgb;\n    outputPixel.rgb *= channel2.rgb;\n    outputPixel.rgb += channel2.rgb;\n    outputPixel.rgb *= channel1.rgb;\n    outputPixel.rgb += channel3.rgb;\n    outputPixel.rgb *= channel0.rgb;\n    \n    int modulo = int(mod(iGlobalTime * 16.0 * smoothstep(0.0, iResolution.y, iMouse.y), 4.0));\n    if(modulo == 0)\n        outputPixel.rgb += channel0.rgb;\n    else if(modulo == 1)\n        outputPixel.rgb += channel1.rgb;\n    else if(modulo == 2)\n        outputPixel.rgb += channel2.rgb;\n    else if(modulo == 3)\n        outputPixel.rgb += channel3.rgb;\n    \n\tfragColor = outputPixel;\n}","name":"Image","description":"","type":"image"}]}}