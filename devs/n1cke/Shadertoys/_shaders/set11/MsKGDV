{"Shader":{"ver":"0.1","info":{"id":"MsKGDV","date":"1456636925","viewed":201,"name":"Bezier (366 chars)","username":"834144373","description":"Can you do it better?make it smallest?:-D<br\/>you can change the size,position,shape,but please make it be similar to Bezier curve,;-)","likes":1,"published":3,"flags":0,"tags":["2d","bezier","codegolf"],"hasliked":0},"renderpass":[{"inputs":[],"outputs":[{"id":37,"channel":0}],"code":"\/\/now it's 366 chars!!!\n\/\/-5 to 366 by coyote : g = t*(b*Z+d*X+a*Y).yx,g.y = -g.y;\n\/**\/\n#define M(a,b) cross(vec3(a,0),vec3(b,0)).z\nvoid mainImage( out vec4 o, in vec2 u )\n{\n    \/\/u = (u+u-(u=iResolution.rg))\/u.y; \/\/ -3 ,but it works fine on windows by 834144373\n\tu += u-(o.rg=iResolution.rg),u \/= o.y;\n    \n    \/\/point A,B,C\n    vec2 C = o.rg\/o.x,B = C.yx-u,A = -C-u, \/\/-2 to 373 chars by 834144373\n    \/\/vec2 C = vec2(.8,0),B = C.xx-u,A = -C-u,\n    \/\/C-=u;       \n    Z = (C-=u)-B,X = B-A,Y = C-A,p,g; \/\/-3 to 375 chars by 834144373\n    \/\/bezier function\n    float t=2.,a = M(A,C),b = t*M(B,A),d = t*M(C,B);\n    \/\/vec2 Z = C-B,X = B-A,Y = C-A,p,g;\n    \n    g = t*(b*Z+d*X+a*Y).yx,g.y = -g.y; \/\/-5 to 366 chars by coyote\n    \/\/g = t*(b*Z+d*X+a*Y),g = vec2(g.y,-g.x);\n\tp = (a*a-b*d)*g\/dot(g,g);\n\t\/\/t = clamp((M(A-p,Y)+t*M(X,A-p))\/(t*a+b+d),0.,1.);\n    o-=o;\n    \/\/-2 to 371 chars by 834144373\n    length(mix(mix(A,B,t = clamp((M(A-p,Y)+t*M(X,A-p))\/(t*a+b+d),0.,1.)),mix(B,C,t),t)) < .02 ? ++o : o;\n    \/\/length(mix(mix(A,B,t),mix(B,C,t),t)) < .02 ? ++o : o;\n}\n\/**\/\n\n\/*\n\/\/\n\/\/reference:\n\/\/http:\/\/research.microsoft.com\/en-us\/um\/people\/hoppe\/ravg.pdf\n#define det(a,b) cross(vec3(a,0.),vec3(b,0.)).z\nfloat Bezier(vec2 b0,vec2 b1,vec2 b2){\n\tfloat a = det(b0,b2),b = 2.*det(b1,b0),d = 2.*det(b2,b1);\n\tfloat f = b*d-a*a;\n\tvec2 d21 = b2-b1,d10 = b1-b0,d20 = b2-b0;\n\tvec2 gf = 2.*(b*d21+d*d10+a*d20);\n\tgf = vec2(gf.y,-gf.x);\n\tvec2 pp = -f*gf\/dot(gf,gf);\n\tvec2 d0p = b0-pp;\n\tfloat ap = det(d0p,d20),bp=2.*det(d10,d0p);\n\tfloat t = clamp((ap+bp)\/(2.*a+b+d),0.,1.);\n\tvec2 vi = mix(mix(b0,b1,t),mix(b1,b2,t),t);\n\treturn length(vi);\n}\nvoid mainImage( out vec4 f, in vec2 u )\n{\n    vec3 R = iResolution;\n\tu = (u+u-R.xy)\/R.y;\n    vec2 A = vec2(-0.6,0.),B = vec2(0.,1.),C = -A;\n    f -= f;\n    Bezier(A-u,B-u,C-u)<.01 ? f = vec4(1.) : f;\n    \n}\n\/**\/","name":"Image","description":"","type":"image"}]}}