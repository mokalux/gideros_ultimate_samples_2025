{"Shader":{"ver":"0.1","info":{"id":"MsGGW3","date":"1456670186","viewed":262,"name":"Good Morning :)","username":"Imp5","description":"Messing around 2d fx","likes":7,"published":3,"flags":0,"tags":["2d","faketrees"],"hasliked":0},"renderpass":[{"inputs":[],"outputs":[{"id":37,"channel":0}],"code":"vec2 forest_alpha(vec2 uv, float seed)\n{\n    if (uv.y > 0.04) return vec2(0.0, 0.0);\n    else if (uv.y < -0.01) return vec2(0.0, 1.0);\n    {    \n    \tfloat bright = 0.5;\n    \tuv += vec2(sin(uv.y * 2000.0 - iGlobalTime) * 0.0005, cos(uv.x * 2000.0 + uv.y * 200.0) * 0.0003);\n    \tuv += vec2(sin(uv.y * 800.0) * 0.0010, cos(uv.x * 800.0 + uv.y * 100.0) * 0.001);\n    \tfloat k = (abs(sin(uv.x * (59.0 + 23.0 * seed)) * sin(sin(uv.x * 24.0 + 1.0 + seed)))) * 0.03 - uv.y;\n    \treturn vec2(bright, max(k * 300.0, 0.0));\n    }\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    fragCoord.xy -= iResolution.xy * 0.5;\n\tvec2 uv = fragCoord.xy \/ iResolution.xx;\n    \n    vec2 k = vec2(0.0);\n\n    \n    vec3 c = mix(vec3(0.45, 0.35, 0.45), vec3(0.4, 0.8, 0.95), uv.y) * 1.4;\n\tc = mix(c, vec3(0.8, 0.8, 0.8), smoothstep(0.0, 1.0, -(uv.y - 0.05) * 10.0) * 0.3);\n    vec3 fog = c;\n    \n        \n    float f = clamp(1.2 - abs(1.0 - (uv.x + 0.35) * 2.0), 0.0, 1.0);\n    vec2 uv2 = uv;\n    uv2.y -= 0.05 - 0.04 * f;\n    uv2.y \/= 1.2 - f;\n\n    if (f < 1.0)\n    {\n        f = smoothstep(0.0, 1.0, f);\n        k = forest_alpha(uv2, 1.0);\n        c = mix(c, mix(vec3(0.1, 0.1, 0.0), fog, mix(0.9, 1.0, f)), min(k.y, 1.0));\n\n        k = forest_alpha(uv2, 2.1);\n        c = mix(c, mix(vec3(0.1, 0.1, 0.1), fog, mix(0.75, 1.0, f)), min(k.y, 1.0));\n\n        k = forest_alpha(uv2, 0.4);\n        c = mix(c, mix(vec3(0.05, 0.1, 0.0), fog, mix(0.63, 1.0, f)), min(k.y, 1.0));\n\n        k = forest_alpha(vec2(uv2.x - uv2.y * 0.2, uv2.y * 0.5 + 0.02), -0.72);\n        c = mix(c, mix(vec3(0.05, 0.1, 0.0), fog, mix(0.59, 1.0, f)), min(k.y, 1.0));\n    }\n\n\tc = mix(c, vec3(0.8, 0.8, 0.8), smoothstep(0.0, 1.0, -(uv.y - 0.05) * 10.0) * 0.3);\n    c = mix(c, vec3(0.06, 0.1, 0.0), 1.0 * smoothstep(0.0, 1.0, -uv.y * 2.5 - 0.05));\n        \n    \n\tfragColor = vec4(c * c + c * 0.25, 1.0);\n}","name":"Image","description":"","type":"image"}]}}