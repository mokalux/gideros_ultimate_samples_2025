{"Shader":{"ver":"0.1","info":{"id":"MsfGRn","date":"1360291634","viewed":226,"name":"Burn","username":"llorens","description":"Progressive burn of some material","likes":0,"published":3,"flags":0,"tags":["2d","burn"],"hasliked":0},"renderpass":[{"inputs":[{"id":2,"src":"\/presets\/tex01.jpg","ctype":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}},{"id":8,"src":"\/presets\/tex07.jpg","ctype":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}}],"outputs":[{"id":37,"channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\r\n{\r\n\tvec2 uv = fragCoord.xy \/ iResolution.xy;\r\n\tvec3 c = texture2D(iChannel0,uv).xyz;\r\n\tvec3 c2 = texture2D(iChannel1,uv).xyz;\r\n\tfloat gray = dot(vec3(0.3,0.59,0.11), c);\r\n\tfloat g2 = dot(vec3(0.3,0.59,0.11), c2);\r\n\t\r\n\tfloat fT = mod(iGlobalTime * 0.1,0.8);\r\n\tfloat fMin = 0.0 + fT;\r\n\tfloat fMax = 0.3 + fT;\r\n\tfloat ss = smoothstep(fMin,fMax,gray);\r\n\tfloat fStep = step(fMin,ss);\r\n\t\r\n\t\r\n\tvec3 cBurn = mix(mix(vec3(0,0,0),vec3(1.0,0.7,0),g2 * 2.0),mix(vec3(1,0.7,0),vec3(1,1,1), (g2 - 0.5) * 2.0),step(0.5,g2));\r\n\r\n\tc = mix(cBurn,c,ss);\r\n\tc = c * fStep;\r\n\t\r\n\tfragColor = vec4(c.xyz,1.0);\r\n}","name":"","description":"","type":"image"}]}}