{"Shader":{"ver":"0.1","info":{"id":"XssGDr","date":"1367639709","viewed":248,"name":"Classic tunnel effect","username":"nuclear","description":"A tunnel...","likes":0,"published":3,"flags":0,"tags":["tunnel"],"hasliked":0},"renderpass":[{"inputs":[{"id":1,"src":"\/presets\/tex00.jpg","ctype":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}}],"outputs":[{"id":37,"channel":0}],"code":"#define M_PI\t3.141593\n\nvec2 tunnel(in vec2 pix, out float z);\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec3 color = vec3(1.0, 1.0, 1.0);\n\t\n\tvec2 tc = fragCoord.xy \/ iResolution.xy;\n\t\n\tfloat z;\n\tvec2 tun = tunnel(tc, z);\n\t\n\tcolor = vec3(clamp(2.0 \/ z, 0.0, 1.0)) * texture2D(iChannel0, tun).xyz;\n\n\tfragColor.xyz = color;\n\tfragColor.w = 1.0;\n}\n\nfloat psin(float x)\n{\n\treturn sin(x) * 0.5 + 0.5;\n}\n\nvec2 tunnel(in vec2 pix, out float z)\n{\n\tfloat aspect = iResolution.x \/ iResolution.y;\n\tvec2 center = vec2(cos(iGlobalTime * 0.15), 0.0);\n\tvec2 pt = (pix * 2.0 - 1.0) * vec2(aspect, 1.0);\n\t\n\tvec2 dir = pt - center;\n\t\n\tfloat angle;\n\tangle = atan(dir.y, dir.x) \/ M_PI;\n\tfloat dist = sqrt(dot(dir, dir));\n\tz = 2.0 \/ dist;\t\n\n\treturn vec2(angle * 2.0 + iGlobalTime * 0.25, z + iGlobalTime * 0.5);\n}","name":"Image","description":"","type":"image"}]}}