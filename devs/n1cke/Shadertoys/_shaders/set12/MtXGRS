{"Shader":{"ver":"0.1","info":{"id":"MtXGRS","date":"1422827987","viewed":871,"name":"[2tc 15] Floor B9","username":"Dave_Hoskins","description":"Yes, I've completely reused  Trisomie21's  amazing Hall of kings  https:\/\/www.shadertoy.com\/view\/4tfGRB#\n:D I thought the cubemap looked like a spotlight so I adjusted the layout to match.\nUpdate: Sound now qualifies too, separately of course!\n","likes":17,"published":3,"flags":8,"tags":["metro","2tc15"],"hasliked":0},"renderpass":[{"inputs":[{"id":27,"src":"\/presets\/cube05_0.png","ctype":"cubemap","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"false","srgb":"false","internal":"byte"}}],"outputs":[{"id":37,"channel":0}],"code":"\/\/ [2tc 15] Floor B9\n\/\/ By David Hoskins.\n\/\/ Yes, I've completely reused Trisomie21's amazing Hall of kings\n\/\/ https:\/\/www.shadertoy.com\/view\/4tfGRB#\n\/\/ I thought the cubemap looked like a spotlight so I adjusted the layout to match.\n\nvoid mainImage( out vec4 f, in vec2 w )\n{\n    vec4 p = vec4(w, 0,1)\/iResolution.xyxy-.5, d=p, t, c;\n    p.z += iGlobalTime*5.;\n    p.y -= abs(sin(iDate.w*4.))*.7;\n    for(int i=0; i < 200; i++)\n    {\n        t = mod(p, 18.)-9.;\n        c = textureCube(iChannel0,abs(t.zxy)-7.5);\n        float x = min(abs(t.y),length(t.xz)-2.-p.x*.1); \n        f = c*25.\/p.w;\n        if(x<0.1) break;\n        p -= d*x;\n     }\n}\n","name":"","description":"","type":"image"},{"inputs":[{"id":30,"src":"\/presets\/tex16.png","ctype":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}},{"id":30,"src":"\/presets\/tex16.png","ctype":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}}],"outputs":[{"id":38,"channel":0}],"code":"vec2 mainSound(float time)\n{\n    float t = pow(1.5-fract((time+.1)*4.\/3.14159265359),2.);\n    return texture2D(iChannel1, vec2(time*1481.31, time*1785.139)\/256., -99.).xy* min(exp(t)*.08, 1.);\n}","name":"","description":"","type":"sound"}]}}