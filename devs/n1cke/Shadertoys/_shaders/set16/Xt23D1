{"Shader":{"ver":"0.1","info":{"id":"Xt23D1","date":"1428626632","viewed":226,"name":"Rollers (2TC)","username":"GregRostami","description":"This shader is a modification of Trisomie21's  2TC shader:\nhttps:\/\/www.shadertoy.com\/view\/4lf3zS","likes":5,"published":3,"flags":0,"tags":["3d","raymarching","displacement","cubemap","2tc"],"hasliked":0},"renderpass":[{"inputs":[{"id":24,"src":"\/presets\/cube02_0.jpg","ctype":"cubemap","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"false","srgb":"false","internal":"byte"}}],"outputs":[{"id":37,"channel":0}],"code":"\/\/ Thanks to the help of coyote, I got my shader down to two tweets (280 chars)\n\nvoid mainImage( out vec4 f, vec2 w ) \n{\n    vec4 p = vec4(w,0,0)\/iResolution.x-.55, d=p, t, c;\n    float T = iGlobalTime, C = cos(T), S = sin(T);\n    p.z -= T+T;\n    for(float i = 2.; i >0.; i-=.01)\n    {\n        t = mod(p, 8.)-4.;\n        t.zy *= mat2(C,S,-S,C);\n\t\tc = textureCube(iChannel0, t.xyz);\n        t = c + length(t.xyz)-2.7;\n        if(t.x<.01) break;\n        p -= d*t.x*.2;\n        f = c*i;\n    }\n}\n\n\/* Here's my original shader for reference.\n\nvoid mainImage( out vec4 f, vec2 w ) \n{\n    vec4 p = vec4(w,0,0)\/iResolution.x-.55, d=p, t, c;\n    float T = iGlobalTime, C = cos(T), S = sin(T);\n    p.z -= T+T;\n    for(float i = 2.; i >0.; i-=.01)\n    {\n        t = mod(p, 8.)-4.;\n        c = textureCube(iChannel0, mat3(0,1,0, C,0,S, -S,0,C) * t.xyz);\n        t = c + length(t.xyz)-2.7;\n        if(t.x<.01) break;\n        p -= d*t.x*.2;\n        f = c*i;\n    }\n}\n*\/\n","name":"Image","description":"","type":"image"}]}}