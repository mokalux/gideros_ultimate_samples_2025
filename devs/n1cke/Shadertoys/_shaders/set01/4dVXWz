{"Shader":{"ver":"0.1","info":{"id":"4dVXWz","date":"1463830923","viewed":218,"name":"random walk \/ Brownian motion","username":"FabriceNeyret2","description":"random walk","likes":11,"published":3,"flags":32,"tags":["walk"],"hasliked":0},"renderpass":[{"inputs":[{"id":257,"src":"\/presets\/previz\/buffer00.png","ctype":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}}],"outputs":[{"id":37,"channel":0}],"code":"void mainImage( out vec4 O,  vec2 U )\n{\n\tO = texture2D(iChannel0, U\/iResolution.xy);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":257,"src":"\/presets\/previz\/buffer00.png","ctype":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}}],"outputs":[{"id":257,"channel":0}],"code":"#define rnd(x) fract(3e4*sin((x+iGlobalTime)*mat2(1,13.51,73.37,-57.17)))\n#define srnd(x) sign(2.*rnd(x)-1.)\n#define T(d) texture2D(iChannel0, fract((U+d)\/R))\n\nvoid mainImage( out vec4 O,  vec2 U )\n{\n    vec2 R = iResolution.xy;\n     if (iFrame==0) {  O = vec4(rnd(U).x<1e-4); return; }\n    \n\tO = T(0.)*(1.-vec4(1,2,3,0)*1e-3);            \/\/ old track fade out\n    \n    for (int j=-1; j<=1; j++)\n        for (int i=-1; i<=1; i++) {\n            vec2 d = vec2(i,j);\n            vec4 T = T(d);\n            if (T.x==1. && srnd(U+d)==-d) O = T;  \/\/ if neighbor is head and come here\n        }\n}","name":"Buf A","description":"","type":"buffer"}]}}