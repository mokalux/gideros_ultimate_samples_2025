{"Shader":{"ver":"0.1","info":{"id":"4dGXWR","date":"1463679799","viewed":222,"name":"naive splat","username":"FabriceNeyret2","description":"naive splat","likes":0,"published":3,"flags":32,"tags":["splat"],"hasliked":0},"renderpass":[{"inputs":[{"id":257,"src":"\/presets\/previz\/buffer00.png","ctype":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}}],"outputs":[{"id":37,"channel":0}],"code":"#define N 60. \/\/ numver of particles = NxN\n#define r 3. \/\/ sprite radius  \n\nvoid mainImage( out vec4 O,  vec2 U )\n{\n    vec2 R = iResolution.xy;\n    O -= O;\n    \n    for (float y=0.; y<N; y++)\n        for (float x=0.; x<N; x++) {\n            vec4 T = texture2D(iChannel0,(.5+vec2(x,y))\/R);\n            O += step(length(T.xy*R-U),r)*vec4(T.zw,-T.zw);\n        }\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":257,"src":"\/presets\/previz\/buffer00.png","ctype":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}}],"outputs":[{"id":257,"channel":0}],"code":"#define rnd(x) fract(3e4*sin((x)*mat2(1,13.51,73.37,-57.17)))\n#define srnd(x) (2.*rnd(x)-1.)\n\nvoid mainImage( out vec4 O, vec2 U )\n{\n    U \/= iResolution.xy;\n    if (iFrame==0) {\n        O = vec4(rnd(U), srnd(U+1.));\n        return;\n    }\n    O = texture2D(iChannel0,U);\n    O.xy = fract(O.xy+O.zw*iTimeDelta*.2);\n}","name":"Buf A","description":"","type":"buffer"}]}}