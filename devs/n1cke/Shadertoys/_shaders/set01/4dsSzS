{"Shader":{"ver":"0.1","info":{"id":"4dsSzS","date":"1403303154","viewed":169,"name":"Mandeltunnel","username":"davidbargo","description":"A little modification to the Mandelbrot set's formula","likes":5,"published":3,"flags":0,"tags":["2d","tunnel","mandelbrot"],"hasliked":0},"renderpass":[{"inputs":[{"id":13,"src":"\/presets\/mzk00.mp3","ctype":"music","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"false","srgb":"false","internal":"byte"}}],"outputs":[{"id":37,"channel":0}],"code":"\/\/ Created by David Bargo - davidbargo\/2014\n\/\/ License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n\n\n\/\/#define BALLS\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n\tvec2 uv = -1.0 + 2.0*fragCoord.xy \/ iResolution.xy;\n\tuv.x *= iResolution.x\/iResolution.y;\n\t\n    vec2 c = vec2(-uv.y-0.3, uv.x)*0.13;\n\tvec2 z = vec2(0.0);\n\t\n\tfloat sinTime = sin(iGlobalTime*1.5);\n\tvec2 cinc = vec2(sinTime*0.0001, cos(iGlobalTime)*0.0003);\t\t\n\tfloat m = clamp((abs(uv.x)+uv.y+0.25)*2.0,-1.0,1.0);\n\t\n\tfloat ni = 0.0;\n\tvec4 col = vec4(0.0,0.0,0.0,1.0);\n\tbool hit = false;\n    for(float i=0.0; i<50.0; i++) {\t\t\n\t\tif (hit) continue;\n\t\t\n\t\tfloat f = texture2D( iChannel0, vec2(ni,0.25) ).x;\n\t\tz = vec2(z.x*z.x - z.y*z.y, 2.0*z.x*z.y) + i*c;\t\t\t\t\n\t\tfloat r = dot(z,z);\n\t\t\n\t\tif(r > 1.3+f*m - sinTime*0.1) {\n\t\t\thit = true;\n\t\t\tni = 1.0 - ni;\n\t\t\t\n\t\t\tcol = vec4(1.0+f,ni,ni,1.0)*ni;\n\t\t\t\n\t\t\t#ifdef BALLS\n\t\t\t\tcol *= 0.5*r-ni*0.75;\n\t\t\t#endif\n\t\t\t\n\t\t}\t\t\t\n\t\tni += 0.02;\n\t\tc += cinc;\n    }\n\tfragColor = col;\n}","name":"Image","description":"","type":"image"}]}}